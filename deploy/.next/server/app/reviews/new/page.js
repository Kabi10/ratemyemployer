(()=>{var e={};e.id=161,e.ids=[161],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},51987:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=r(70260),a=r(28203),i=r(25155),n=r.n(i),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let c=["",{children:["reviews",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,53914)),"C:\\Users\\kabil\\WebstormProjects\\ratemyemployer\\src\\app\\reviews\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\Users\\kabil\\WebstormProjects\\ratemyemployer\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],d=["C:\\Users\\kabil\\WebstormProjects\\ratemyemployer\\src\\app\\reviews\\new\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/reviews/new/page",pathname:"/reviews/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},86479:(e,s,r)=>{Promise.resolve().then(r.bind(r,53914))},94727:(e,s,r)=>{Promise.resolve().then(r.bind(r,49382))},49382:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(45512),a=r(79334),i=r(41415);function n(){let e=(0,a.useSearchParams)().get("companyId");return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Share Your Experience"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Help others make informed career decisions by sharing your workplace insights"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Guidelines for a Great Review:"}),(0,t.jsxs)("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:"•"}),"Be honest and objective in your assessment"]}),(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:"•"}),"Provide specific examples to support your points"]}),(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:"•"}),"Keep it professional and constructive"]}),(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"mr-2",children:"•"}),"Focus on your personal experience"]})]})]}),(0,t.jsx)(i.H,{companyId:e||void 0,onSuccess:()=>{}})]})})})}},33146:(e,s,r)=>{"use strict";r.d(s,{k:()=>o});var t=r(45512),a=r(44195),i=r(86235);let n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};function o({size:e="md",className:s,fullScreen:r=!1}){let o=(0,t.jsx)(i.A,{className:(0,a.cn)("animate-spin",n[e],s)});return r?(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:o}):o}},41415:(e,s,r)=>{"use strict";r.d(s,{H:()=>h});var t=r(45512),a=r(58009),i=r(6868),n=r(86353),o=r(65210),l=r(79334),c=r(33146),d=r(81914),m=r(16131),u=r(39400),p=r(77722);let x=m.Ik({content:m.Yj().min(20,"Content must be at least 20 characters").max(2e3,"Content must be less than 2000 characters"),rating:m.ai().min(1).max(5),pros:m.Yj().min(10,"Pros must be at least 10 characters").max(1e3,"Pros must be less than 1000 characters"),cons:m.Yj().min(10,"Cons must be at least 10 characters").max(1e3,"Cons must be less than 1000 characters"),position:m.Yj().min(1,"Position is required"),employment_status:m.k5(["FULL_TIME","PART_TIME","CONTRACT","INTERN"]),status:m.Yj().optional()});function h({companyId:e,initialData:s,onSuccess:r}){let{user:m}=(0,o.A)(),h=(0,l.useRouter)(),[b,f]=(0,a.useState)(!1),[g,j]=(0,a.useState)(null),[v,y]=(0,a.useState)(null),[N,w]=(0,a.useState)(!0),{register:k,handleSubmit:P,reset:_,formState:{errors:C}}=(0,i.mN)({resolver:(0,d.u)(x),defaultValues:{rating:s?.rating||3,content:s?.content||"",pros:s?.pros||"",cons:s?.cons||"",position:s?.position||"",employment_status:s?.employment_status||"FULL_TIME",status:s?.status}}),q=async t=>{if(!m){j("You must be logged in to submit a review");return}let a=v?.id||e;if(!a){j("Please select a company");return}f(!0),j(null);try{let e={...t,company_id:a,user_id:m.id,title:""};if(s?.id){let{error:r}=await n.N.from("reviews").update(e).eq("id",s.id);if(r)throw r}else{let{error:s}=await n.N.from("reviews").insert([e]);if(s)throw s}_(),r&&r(),h.push(`/companies/${a}`)}catch(e){j(e instanceof Error?e.message:"Failed to submit review")}finally{f(!1)}};return N?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,t.jsx)(c.k,{size:"lg"})}):(0,t.jsxs)("form",{onSubmit:P(q),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Content"}),(0,t.jsx)("textarea",{...k("content"),rows:4,className:"w-full p-3 border rounded-lg",placeholder:"Overall review content"}),C.content&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:C.content.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Rating"}),(0,t.jsx)(p.p,{type:"number",...k("rating",{valueAsNumber:!0}),min:"1",max:"5"}),C.rating&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:C.rating.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Employment Status"}),(0,t.jsxs)("select",{...k("employment_status"),className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:[(0,t.jsx)("option",{value:"FULL_TIME",children:"Full Time"}),(0,t.jsx)("option",{value:"PART_TIME",children:"Part Time"}),(0,t.jsx)("option",{value:"CONTRACT",children:"Contract"}),(0,t.jsx)("option",{value:"INTERN",children:"Intern"})]}),C.employment_status&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:C.employment_status.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Position"}),(0,t.jsx)(p.p,{...k("position"),placeholder:"Your position at the company"}),C.position&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:C.position.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Pros"}),(0,t.jsx)("textarea",{...k("pros"),rows:3,className:"w-full p-3 border rounded-lg",placeholder:"What did you like about working here?"}),C.pros&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:C.pros.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Cons"}),(0,t.jsx)("textarea",{...k("cons"),rows:3,className:"w-full p-3 border rounded-lg",placeholder:"What could be improved?"}),C.cons&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:C.cons.message})]}),g&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md text-red-600",children:g}),(0,t.jsx)(u.$,{type:"submit",className:"w-full",disabled:b,children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.k,{size:"sm",className:"mr-2"}),"Submitting..."]}):"Submit Review"})]})}},77722:(e,s,r)=>{"use strict";r.d(s,{p:()=>n});var t=r(45512),a=r(58009),i=r(44195);let n=a.forwardRef(({className:e,type:s,...r},a)=>(0,t.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));n.displayName="Input"},53914:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\kabil\\\\WebstormProjects\\\\ratemyemployer\\\\src\\\\app\\\\reviews\\\\new\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\kabil\\WebstormProjects\\ratemyemployer\\src\\app\\reviews\\new\\page.tsx","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[638,626,868,388,317],()=>r(51987));module.exports=t})();