(()=>{var e={};e.id=500,e.ids=[500],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},89019:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(70260),a=t(28203),i=t(25155),l=t.n(i),n=t(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["companies",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13203)),"C:\\Users\\kabil\\WebstormProjects\\ratemyemployer\\src\\app\\companies\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"C:\\Users\\kabil\\WebstormProjects\\ratemyemployer\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\kabil\\WebstormProjects\\ratemyemployer\\src\\app\\companies\\[id]\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/companies/[id]/page",pathname:"/companies/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31592:(e,s,t)=>{Promise.resolve().then(t.bind(t,13203))},95144:(e,s,t)=>{Promise.resolve().then(t.bind(t,77948))},77948:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(45512),a=t(58009),i=t(79334),l=t(41415),n=t(86353);let o=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"}))});function d({companyId:e}){let[s,t]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[n,d]=(0,a.useState)(null);return i?(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-2"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]})]},s))}):n?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-red-500",children:n})}):0===s.length?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No reviews yet. Be the first to write one!"})}):(0,r.jsx)("div",{className:"space-y-8",children:s.map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[e.position," â€¢ ",e.employment_status]})}),(0,r.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((s,t)=>(0,r.jsx)(o,{className:`w-5 h-5 ${t<e.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`},t))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-green-600 dark:text-green-400 mb-2",children:"Pros"}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:e.pros})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-red-600 dark:text-red-400 mb-2",children:"Cons"}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:e.cons})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Review Details"}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:e.content})]}),(0,r.jsxs)("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["Posted on ",new Date(e.created_at).toLocaleDateString()]})]},e.id))})}var c=t(57427);let m=async(e,s)=>{let{data:t,error:r}=await n.N.from("companies").select("*").eq("id",s).single();if(r)throw r;return t},x=a.forwardRef(function({title:e,titleId:s,...t},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},t),e?a.createElement("title",{id:s},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))});var u=t(6956),p=t(92345);function h(){let{id:e}=(0,i.useParams)(),{company:s,isLoading:t,error:n}=function(e){let{data:s,error:t,isLoading:r,mutate:a}=(0,c.Ay)(e?["company",e]:null,([e,s])=>m("company",s),{revalidateOnFocus:!1,revalidateOnReconnect:!1});return{company:s,isLoading:r,error:t,mutate:a}}(e),[o,h]=(0,a.useState)(!1);return t?(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3 mb-8"}),(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,r.jsx)("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"},s))})]}):n||!s?(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsx)("p",{className:"text-red-500",children:"Error loading company details"})}):(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s.name}),s.verified&&(0,r.jsxs)("div",{className:"flex items-center space-x-1 text-blue-500",children:[(0,r.jsx)(x,{className:"h-6 w-6"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Verified"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.average_rating?s.average_rating.toFixed(1):"N/A"}),(0,r.jsx)(u.A,{className:"h-6 w-6 text-yellow-400"})]})]}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Industry: ",s.industry]}),(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Location: ",s.location]})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Write a Review"})})]})}),o&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[(0,r.jsx)("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,r.jsx)(p.A,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Write a Review for ",s.name]}),(0,r.jsx)(l.H,{companyId:s.id,onSuccess:()=>h(!1)})]})]})}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Reviews"}),(0,r.jsx)(d,{companyId:s.id})]})]})})}},33146:(e,s,t)=>{"use strict";t.d(s,{k:()=>n});var r=t(45512),a=t(44195),i=t(86235);let l={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};function n({size:e="md",className:s,fullScreen:t=!1}){let n=(0,r.jsx)(i.A,{className:(0,a.cn)("animate-spin",l[e],s)});return t?(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:n}):n}},41415:(e,s,t)=>{"use strict";t.d(s,{H:()=>h});var r=t(45512),a=t(58009),i=t(6868),l=t(86353),n=t(65210),o=t(79334),d=t(33146),c=t(81914),m=t(16131),x=t(39400),u=t(77722);let p=m.Ik({content:m.Yj().min(20,"Content must be at least 20 characters").max(2e3,"Content must be less than 2000 characters"),rating:m.ai().min(1).max(5),pros:m.Yj().min(10,"Pros must be at least 10 characters").max(1e3,"Pros must be less than 1000 characters"),cons:m.Yj().min(10,"Cons must be at least 10 characters").max(1e3,"Cons must be less than 1000 characters"),position:m.Yj().min(1,"Position is required"),employment_status:m.k5(["FULL_TIME","PART_TIME","CONTRACT","INTERN"]),status:m.Yj().optional()});function h({companyId:e,initialData:s,onSuccess:t}){let{user:m}=(0,n.A)(),h=(0,o.useRouter)(),[g,b]=(0,a.useState)(!1),[v,j]=(0,a.useState)(null),[f,y]=(0,a.useState)(null),[N,w]=(0,a.useState)(!0),{register:k,handleSubmit:P,reset:_,formState:{errors:C}}=(0,i.mN)({resolver:(0,c.u)(p),defaultValues:{rating:s?.rating||3,content:s?.content||"",pros:s?.pros||"",cons:s?.cons||"",position:s?.position||"",employment_status:s?.employment_status||"FULL_TIME",status:s?.status}}),E=async r=>{if(!m){j("You must be logged in to submit a review");return}let a=f?.id||e;if(!a){j("Please select a company");return}b(!0),j(null);try{let e={...r,company_id:a,user_id:m.id,title:""};if(s?.id){let{error:t}=await l.N.from("reviews").update(e).eq("id",s.id);if(t)throw t}else{let{error:s}=await l.N.from("reviews").insert([e]);if(s)throw s}_(),t&&t(),h.push(`/companies/${a}`)}catch(e){j(e instanceof Error?e.message:"Failed to submit review")}finally{b(!1)}};return N?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,r.jsx)(d.k,{size:"lg"})}):(0,r.jsxs)("form",{onSubmit:P(E),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Content"}),(0,r.jsx)("textarea",{...k("content"),rows:4,className:"w-full p-3 border rounded-lg",placeholder:"Overall review content"}),C.content&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:C.content.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Rating"}),(0,r.jsx)(u.p,{type:"number",...k("rating",{valueAsNumber:!0}),min:"1",max:"5"}),C.rating&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:C.rating.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Employment Status"}),(0,r.jsxs)("select",{...k("employment_status"),className:"w-full p-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:[(0,r.jsx)("option",{value:"FULL_TIME",children:"Full Time"}),(0,r.jsx)("option",{value:"PART_TIME",children:"Part Time"}),(0,r.jsx)("option",{value:"CONTRACT",children:"Contract"}),(0,r.jsx)("option",{value:"INTERN",children:"Intern"})]}),C.employment_status&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:C.employment_status.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Position"}),(0,r.jsx)(u.p,{...k("position"),placeholder:"Your position at the company"}),C.position&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:C.position.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Pros"}),(0,r.jsx)("textarea",{...k("pros"),rows:3,className:"w-full p-3 border rounded-lg",placeholder:"What did you like about working here?"}),C.pros&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:C.pros.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium",children:"Cons"}),(0,r.jsx)("textarea",{...k("cons"),rows:3,className:"w-full p-3 border rounded-lg",placeholder:"What could be improved?"}),C.cons&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:C.cons.message})]}),v&&(0,r.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md text-red-600",children:v}),(0,r.jsx)(x.$,{type:"submit",className:"w-full",disabled:g,children:g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.k,{size:"sm",className:"mr-2"}),"Submitting..."]}):"Submit Review"})]})}},77722:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var r=t(45512),a=t(58009),i=t(44195);let l=a.forwardRef(({className:e,type:s,...t},a)=>(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));l.displayName="Input"},13203:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\kabil\\\\WebstormProjects\\\\ratemyemployer\\\\src\\\\app\\\\companies\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\kabil\\WebstormProjects\\ratemyemployer\\src\\app\\companies\\[id]\\page.tsx","default")},6956:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(58009);let a=r.forwardRef(function({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},92345:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var r=t(58009);let a=r.forwardRef(function({title:e,titleId:s,...t},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},t),e?r.createElement("title",{id:s},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))})}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,626,868,388,427,317],()=>t(89019));module.exports=r})();